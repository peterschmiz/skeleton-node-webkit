
window.angular.module('Middleman', [])
	.controller('middleman', ['$scope', function ($scope) {

		var defaultValues = {
			projectConfig: {
				middleman: {
					engine: 'erb',
					features: {
						development: {
							sprockets: { name: 'Sprockets', checked: false, command: 'activate :sprockets' },
							rewrite: { name: 'Rewrite', checked: false, command: 'activate :rewrite' },
							livereload: { name: 'Live reload', checked: false, command: 'activate :livereload' },
							relative_assets: { name: 'Relative assets', checked: false, command: 'activate :relative_assets' },
							cache_buster: { name: 'Cache buster', checked: false, command: 'activate :cache_buster' }
						},

						production: {
							sprockets: { name: 'Sprockets', checked: false, command: 'activate :sprockets' },
							relative_assets: { name: 'Relative assets', checked: false, command: 'activate :relative_assets' },
							minfify_html: { name: 'Minify HTML', checked: false, command: 'activate :minify_html' },
							target: { name: 'Target', checked: false, command: 'activate :target' }
						}
					}
				}
			}
		};

		$.extend(true, $scope.pkg, defaultValues);

	}]);